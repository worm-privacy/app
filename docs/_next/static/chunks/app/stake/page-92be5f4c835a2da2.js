(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{6895:function(e,t,a){Promise.resolve().then(a.bind(a,226))},226:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var s=a(7437),n=a(6070),r=a(2869),o=a(2660),l=a(9322),i=a(1804),c=a(7168),d=a(9232);let u=(0,a(9205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var m=a(7648),h=a(2926),g=a(6366),p=a(3649),x=a(2794),f=a(2265),y=a(6110),v=a(5186),w=a(6815),b=a(5684),N=a(5153),j=a(1817),k=a(6368);let S=[{inputs:[{name:"_amount",type:"uint256"},{name:"_numEpochs",type:"uint256"}],name:"lock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentEpoch",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"}],T=[{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function E(e){let{children:t,wormBalance:a}=e,[n,o]=(0,f.useState)(!1),[i,c]=(0,f.useState)(""),[d,m]=(0,f.useState)(""),[h,p]=(0,f.useState)(!1),[x,E]=(0,f.useState)(!1),[M,O]=(0,f.useState)(!0),{networkConfig:C}=(0,g.L)(),{writeContract:A}=(0,b.c)(C.contracts.worm,T),{writeContract:R}=(0,b.c)(C.contracts.staking,S),{toast:F}=(0,N.pm)(),W=async()=>{if(i)try{p(!0);let e=BigInt(Math.floor(1e18*parseFloat(i))),t=await A("approve",[C.contracts.staking,e]);F({title:"Approval pending",description:"Please wait for transaction confirmation..."}),await t.wait(),O(!1),F({title:"Approval successful",description:"Approved ".concat(i," WORM for staking")})}catch(e){console.error("[v0] Approval error:",e),F({title:"Approval failed",description:(0,k.s)(e),variant:"destructive"})}finally{p(!1)}},I=async()=>{if(i&&d)try{E(!0);let e=BigInt(Math.floor(1e18*parseFloat(i))),t=BigInt(parseInt(d)),a=await R("lock",[e,t]);F({title:"Locking tokens",description:"Please wait for transaction confirmation..."}),await a.wait(),F({title:"Tokens locked successfully",description:"Locked ".concat(i," WORM for ").concat(d," weeks")}),o(!1),c(""),m(""),O(!0)}catch(e){console.error("[v0] Lock error:",e),F({title:"Lock failed",description:(0,k.s)(e),variant:"destructive"})}finally{E(!1)}},_=i&&parseFloat(i)>0&&parseFloat(i)<=parseFloat(a||"0"),L=d&&parseInt(d)>0;return(0,s.jsxs)(y.Vq,{open:n,onOpenChange:o,children:[(0,s.jsx)(y.hg,{asChild:!0,children:t}),(0,s.jsxs)(y.cZ,{className:"bg-gray-900 border-green-800 text-white",children:[(0,s.jsxs)(y.fK,{children:[(0,s.jsxs)(y.$N,{className:"text-green-300 flex items-center gap-2",children:[(0,s.jsx)(u,{className:"w-5 h-5"}),"Lock WORM Tokens"]}),(0,s.jsx)(y.Be,{className:"text-gray-400",children:"Lock your WORM tokens for a specified number of weeks to earn BETH rewards"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w._,{htmlFor:"amount",className:"text-green-300",children:"Amount (WORM)"}),(0,s.jsx)(v.I,{id:"amount",type:"number",step:"0.000001",placeholder:"0.0",value:i,onChange:e=>{c(e.target.value),O(!0)},className:"bg-gray-800 border-green-700 text-white"}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Available: ",a," WORM"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w._,{htmlFor:"weeks",className:"text-green-300",children:"Lock Duration (Weeks)"}),(0,s.jsx)(v.I,{id:"weeks",type:"number",min:"1",placeholder:"1",value:d,onChange:e=>m(e.target.value),className:"bg-gray-800 border-green-700 text-white"}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Tokens will be locked from next week to week ",d?parseInt(d):"N"]})]}),M&&_&&(0,s.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-yellow-900/20 border border-yellow-700 rounded-lg",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-xs text-yellow-300",children:"You need to approve the staking contract to spend your WORM tokens before locking"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[M&&(0,s.jsx)(r.z,{onClick:W,disabled:!_||h,className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-black font-semibold",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Approving..."]}):"Approve"}),(0,s.jsx)(r.z,{onClick:I,disabled:!_||!L||M||x,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-black font-semibold",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Locking..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{className:"mr-2 h-4 w-4"}),"Lock Tokens"]})})]})]})]})]})}var M=a(1091),O=a(135),C=a(7151),A=a(9868),R=a(4552),F=a(5474),W=a(1662);let I=[{inputs:[],name:"currentEpoch",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function _(e,t){let a=M.R.defaultAbiCoder().encode(["uint256","uint256"],[t,e]);return O.w(a)}function L(){let[e,t]=(0,f.useState)([]),[a,r]=(0,f.useState)(!0),[o,l]=(0,f.useState)(0),[i,c]=(0,f.useState)(!1),{address:d}=(0,h.O)(),{networkConfig:m}=(0,g.L)();(0,f.useEffect)(()=>{let e=()=>{c(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,f.useEffect)(()=>{let e=async()=>{try{r(!0);let e=new C.r6(m.rpcUrls[0]),a=new A.CH(m.contracts.staking,I,e),s=await a.currentEpoch(),n=Number(s);l(n);let o=i?2:4,c=Math.max(0,n-o),u=n<o?c+(2*o+1):n+o+1,h=[],g=d||R.N;for(let t=c;t<u;t++)try{let a=BigInt(t),s=_(3,a),r=await e.getStorage(m.contracts.staking,s),o=F.Gh(r),l=_(4,a),i=await e.getStorage(m.contracts.staking,l),c=F.Gh(i),d=function(e,t,a){let s=M.R.defaultAbiCoder().encode(["uint256","uint256"],[t,5]),n=O.w(s),r=M.R.defaultAbiCoder().encode(["address","bytes32"],[a,n]);return O.w(r)}(0,a,g),u=await e.getStorage(m.contracts.staking,d),p=F.Gh(u);h.push({week:t,totalStaked:W.dF(c),userStaked:W.dF(p),epochRewards:W.dF(o),isCurrent:t===n,isPast:t<n,isFuture:t>n})}catch(e){console.error("Error fetching week ".concat(t,":"),e),h.push({week:t,totalStaked:"0",userStaked:"0",epochRewards:"0",isCurrent:t===n,isPast:t<n,isFuture:t>n})}t(h)}catch(e){console.error("Error fetching stakes:",e)}finally{r(!1)}};m.contracts.staking&&e()},[d,m.contracts.staking,i,m.rpcUrls]);let p=i?"grid-cols-5":"grid-cols-9",x=i?2:4;return a?(0,s.jsx)("section",{className:"py-12 bg-black",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(j.Z,{className:"w-6 h-6 text-green-400 animate-spin"}),(0,s.jsx)("span",{className:"text-gray-400",children:"Loading staking activity..."})]})})}):d?(0,s.jsx)("section",{className:"py-12 bg-black",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)(n.Zb,{className:"bg-green-950/40 border-green-800",children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{className:"text-xl text-green-300 flex items-center gap-2",children:[(0,s.jsx)(u,{className:"w-5 h-5"}),"Staking Timeline"]}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"WORM tokens staked across past, current, and future weeks"}),(0,s.jsxs)("p",{className:"text-sm text-cyan-300",children:["Current Week: ",o]})]}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid ".concat(p," gap-2 text-xs text-gray-400 font-mono"),children:[(0,s.jsx)("div",{className:"col-span-".concat(x," text-center"),children:"Past Weeks"}),(0,s.jsx)("div",{className:"text-center",children:"Current"}),(0,s.jsx)("div",{className:"col-span-".concat(x," text-center"),children:"Future Weeks"})]}),(0,s.jsx)("div",{className:"grid ".concat(p," gap-2"),children:e.map(t=>{let a=Math.max(...e.map(e=>Number.parseFloat(e.totalStaked))),n=a>0?Number.parseFloat(t.totalStaked)/a*100:0,r=Number.parseFloat(t.userStaked),o=Number.parseFloat(t.totalStaked);return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"w-full h-32 bg-gray-800 rounded relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute bottom-0 w-full transition-all duration-500 ".concat(t.isCurrent?"bg-gradient-to-t from-yellow-500 to-yellow-300":t.isPast?"bg-gradient-to-t from-green-600 to-green-400":"bg-gradient-to-t from-gray-600 to-gray-500"),style:{height:"".concat(n,"%")}}),r>0&&(0,s.jsx)("div",{className:"absolute bottom-0 w-full transition-all duration-500 bg-cyan-500/40",style:{height:"".concat(n*(o>0?r/o*100:0)/100,"%")}}),t.isCurrent&&(0,s.jsx)("div",{className:"absolute inset-0 bg-yellow-400/20 animate-pulse"})]}),(0,s.jsxs)("div",{className:"mt-2 text-center",children:[(0,s.jsxs)("div",{className:"text-xs font-mono ".concat(t.isCurrent?"text-yellow-300":"text-gray-400"),children:["Week ",t.week]}),(0,s.jsx)("div",{className:"text-xs font-mono ".concat(t.isCurrent?"text-yellow-300":"text-green-300"),children:Number.parseFloat(t.totalStaked).toFixed(2)}),r>0&&(0,s.jsxs)("div",{className:"text-xs font-mono text-cyan-300",children:[r.toFixed(2)," WORM"]})]})]},t.week)})}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 pt-4 border-t border-green-800 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-gradient-to-t from-green-600 to-green-400 rounded"}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Past Weeks"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-gradient-to-t from-yellow-500 to-yellow-300 rounded"}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Current Week"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-gradient-to-t from-gray-600 to-gray-500 rounded"}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Future Weeks"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-cyan-500/40 rounded"}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Your Stake"})]})]})]})})]})})}):(0,s.jsx)("section",{className:"py-12 bg-black",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)("div",{className:"text-center text-gray-400",children:[(0,s.jsx)(u,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,s.jsx)("p",{children:"Connect your wallet to view staking activity"})]})})})}function Z(){let{isConnected:e,address:t,connectWallet:a,disconnectWallet:g,error:f}=(0,h.O)(),{bethBalance:y,wormBalance:v,loading:w,error:b}=(0,x.l)();return(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,s.jsxs)("div",{className:"container mx-auto px-6 py-6 flex justify-between items-center",children:[(0,s.jsxs)(m.default,{href:"/",className:"inline-flex items-center gap-2 text-green-300 hover:text-green-200 transition-colors",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"}),"Back to Home"]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(p.m,{}),f&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-300 text-sm",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:f})]}),e?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"text-sm font-mono text-green-300 bg-green-950/60 px-3 py-1 rounded-lg",children:"".concat(t.slice(0,6),"...").concat(t.slice(-4))}),(0,s.jsx)(r.z,{size:"sm",variant:"outline",onClick:g,className:"border-red-600 text-red-300 hover:bg-red-900/50 bg-transparent",children:"Disconnect"})]}):(0,s.jsxs)(r.z,{onClick:a,size:"sm",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-black font-semibold border-0",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Connect Wallet"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Connect"})]})]})]}),(0,s.jsx)("section",{className:"py-8 bg-green-950/10",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-green-300 font-mono",children:"WORM Staking"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Lock your WORM tokens to earn BETH rewards"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 transition-opacity duration-300 ".concat(e?"opacity-100":"opacity-50"),children:(0,s.jsxs)(n.Zb,{className:"bg-green-950/40 border-green-800",children:[(0,s.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium text-green-300",children:"WORM Balance"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[w&&(0,s.jsx)(c.Z,{className:"h-3 w-3 text-green-400 animate-spin"}),(0,s.jsx)(d.Z,{className:"h-4 w-4 text-green-400"})]})]}),(0,s.jsxs)(n.aY,{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-300 font-mono",children:e?w?"...":v:"---.----"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"Available for staking"}),b&&(0,s.jsx)("p",{className:"text-xs text-red-400",children:"Error loading balance"}),(0,s.jsx)(E,{wormBalance:v,children:(0,s.jsxs)(r.z,{size:"sm",variant:"outline",className:"border-green-600 text-green-300 hover:bg-green-900/50 bg-transparent w-full",disabled:!e,children:[(0,s.jsx)(u,{className:"w-4 h-4 mr-2"}),"Lock Tokens"]})})]})]})})]})})}),(0,s.jsx)(L,{})]})}function B(){return(0,s.jsx)(g.NetworkProvider,{children:(0,s.jsx)(h.n,{children:(0,s.jsx)(Z,{})})})}},2794:function(e,t,a){"use strict";a.d(t,{l:function(){return i}});var s=a(2265),n=a(9868),r=a(1662),o=a(2926),l=a(6366);function i(){let{isConnected:e,address:t,provider:a}=(0,o.O)(),{networkConfig:i}=(0,l.L)(),[c,d]=(0,s.useState)("0.0000"),[u,m]=(0,s.useState)("0.0000"),[h,g]=(0,s.useState)(!1),[p,x]=(0,s.useState)(null),[f,y]=(0,s.useState)(null),v=[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],w=async()=>{if(!e||!t||!a){d("0.0000"),m("0.0000");return}f&&f.abort();let s=new AbortController;y(s);try{g(!0),x(null),console.log("[v0] Fetching balances for address:",t),console.log("[v0] Using BETH contract:",i.contracts.beth),console.log("[v0] Using WORM contract:",i.contracts.worm);let e=new n.CH(i.contracts.beth,v,a),o=new n.CH(i.contracts.worm,v,a),[l,c]=await Promise.all([a.getCode(i.contracts.beth),a.getCode(i.contracts.worm)]);"0x"===l&&(console.warn("[v0] BETH contract not found at address:",i.contracts.beth),d("0.0000")),"0x"===c&&(console.warn("[v0] WORM contract not found at address:",i.contracts.worm),m("0.0000"));let u=[],h=[];if("0x"!==l&&(u.push(e.balanceOf(t)),h.push("beth")),"0x"!==c&&(u.push(o.balanceOf(t)),h.push("worm")),0===u.length){console.warn("[v0] No valid contracts found on this network"),d("0.0000"),m("0.0000");return}let p=Promise.all(u),f=new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout")),1e4)}),y=new Promise((e,t)=>{s.signal.addEventListener("abort",()=>{t(Error("Request cancelled"))})}),w=await Promise.race([p,f,y]);if(s.signal.aborted)return;let b=BigInt(0),N=BigInt(0),j=0;h.includes("beth")&&(b=w[j],j++),h.includes("worm")&&(N=w[j]);let k=r.dF(b),S=r.dF(N);d(Number.parseFloat(k).toFixed(4)),m(Number.parseFloat(S).toFixed(4)),console.log("[v0] Balances fetched - BETH:",k,"WORM:",S)}catch(e){var o,l;(null===(o=e.message)||void 0===o?void 0:o.includes("network changed"))||"NETWORK_ERROR"===e.code?(console.log("[v0] Network change detected during balance fetch, will retry"),d("0.0000"),m("0.0000")):"Request cancelled"===e.message||"Request timeout"===e.message?console.log("[v0] Balance fetch cancelled or timed out"):("BAD_DATA"===e.code||(null===(l=e.message)||void 0===l?void 0:l.includes("could not decode result data"))?console.warn("[v0] Contract call failed - contracts may not exist on this network:",e.message):(console.error("[v0] Error fetching balances:",e),x(e.message||"Failed to fetch balances")),d("0.0000"),m("0.0000"))}finally{g(!1),y(null)}};return(0,s.useEffect)(()=>{w()},[e,t,a,i]),(0,s.useEffect)(()=>{if(e&&t){let e=setInterval(w,3e4);return()=>clearInterval(e)}},[e,t]),(0,s.useEffect)(()=>()=>{f&&f.abort()},[]),{bethBalance:c,wormBalance:u,loading:h,error:p}}},5684:function(e,t,a){"use strict";a.d(t,{K:function(){return o},c:function(){return l}});var s=a(2265),n=a(9146),r=a(9868);function o(){let[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(!1),d=(0,s.useCallback)(async t=>{if(t.length>0){if(e)try{let a=await e.getSigner();r(a),l(t[0]),c(!0)}catch(e){console.error("Failed to get signer:",e)}}else l(null),r(null),c(!1)},[e]);(0,s.useEffect)(()=>{(async()=>{if(window.ethereum){let e=new n.Q(window.ethereum);t(e);try{if((await e.listAccounts()).length>0){let t=await e.getSigner();r(t),l(await t.getAddress()),c(!0)}}catch(e){console.error("Failed to get accounts:",e)}}})()},[]),(0,s.useEffect)(()=>{if(window.ethereum&&d)return window.ethereum.on("accountsChanged",d),()=>{window.ethereum.removeAllListeners("accountsChanged")}},[d]);let u=async()=>{if(e)try{await e.send("eth_requestAccounts",[]);let t=await e.getSigner();r(t),l(await t.getAddress()),c(!0)}catch(e){console.error("Failed to connect:",e)}};return{provider:e,signer:a,address:o,isConnected:i,connect:u}}function l(e,t){let{provider:a,signer:n}=o(),[l,i]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&e&&t&&i(new r.CH(e,t,n||a))},[a,n,e]);let c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!l)return null;try{return await l[e](...t)}catch(t){var a;if((null==t?void 0:t.code)==="NETWORK_ERROR"&&(null==t?void 0:null===(a=t.message)||void 0===a?void 0:a.includes("network changed")))return console.log("[v0] Network changed during ".concat(e," call, ignoring error")),null;return console.error("Error calling ".concat(e,":"),t),null}},d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!l||!n)return null;try{let a;console.log("[v0] Attempting ".concat(e," with args:"),t);let s=await n.provider.getNetwork(),r=31337n===s.chainId||1337n===s.chainId;try{let s=await l[e].estimateGas(...t);console.log("[v0] Estimated gas for ".concat(e,":"),s.toString()),a=r?150n*s/100n:120n*s/100n,console.log("[v0] Using gas limit for ".concat(e,":"),a.toString())}catch(t){console.warn("[v0] Gas estimation failed for ".concat(e,":"),t),a=r?500000n:300000n,console.log("[v0] Using fallback gas limit for ".concat(e,":"),a.toString())}let o=await l[e](...t,{gasLimit:a});return console.log("[v0] ".concat(e," transaction sent:"),o.hash),o}catch(s){var a;if(console.error("[v0] Error calling ".concat(e,":"),s),(null==s?void 0:s.code)===-32603||(null==s?void 0:null===(a=s.message)||void 0===a?void 0:a.includes("Internal JSON-RPC error"))){console.log("[v0] RPC error calling ".concat(e,", trying alternative approach"));try{let a=await l[e](...t,{gasLimit:800000n,type:0});return console.log("[v0] Alternative approach succeeded:",a.hash),a}catch(a){console.error("[v0] Alternative approach also failed for ".concat(e,":"),a);try{console.log("[v0] Trying ".concat(e," with no gas options as final fallback"));let a=await l[e](...t);return console.log("[v0] No-gas-options approach succeeded:",a.hash),a}catch(t){throw console.error("[v0] All approaches failed for ".concat(e,":"),t),t}}}throw s}};return{contract:l,readContract:c,writeContract:d}}},5153:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let n=0,r=new Map,o=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function d(e){c=l(c,e),i.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(c);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},6368:function(e,t,a){"use strict";function s(e){if("string"==typeof e)return e;if(null==e?void 0:e.message){let t=e.message,a=t.match(/execution reverted:?\s*(.+?)(?:\n|$)/);if(a)return a[1].trim();let s=t.match(/reverted with reason string ['"](.+?)['"]/);if(s)return s[1].trim();let n=t.match(/^Error:\s*(.+)/);if(n)return n[1].trim();let r=t.split("\n")[0].trim();if(r&&r.length<200)return r}return(null==e?void 0:e.shortMessage)?e.shortMessage:(null==e?void 0:e.reason)?e.reason:"Transaction failed"}a.d(t,{s:function(){return s}})},9232:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},7168:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},1804:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])}},function(e){e.O(0,[978,620,843,971,117,744],function(){return e(e.s=6895)}),_N_E=e.O()}]);